{"version":3,"sources":["webpack://game/webpack/bootstrap","webpack://game/./game/game.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","canvas","document","getElementById","width","window","innerWidth","height","innerHeight","ctx","getContext","[object Object]","x","y","radius","color","this","beginPath","arc","fillStyle","fill","closePath","dx","dy","clear","draw","Bot","direction","timeout","speed","super","speedDirections","right","left","up","down","isActive","move","arena","fieldX","fieldY","fieldWidth","fieldHeight","fillRect","player","keyMap","onkeydown","onkeyup","e","keyCode","type","addEventListener","event","round","bots","wave","counter","forEach","bot","checkBorderCollision","length","setTimeout","push","createBot","firstWave","secondWave","thirdWave","fourthWave","checkBotCollision","result","item","Math","sqrt","style","display","gameLoop","setInterval","movementControl","clearInterval","confirm","location","reload","href","movement","checkBots","initWave","anotherGame"],"mappings":"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","file":"game-main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","'use strict';\n\n\nconst canvas = document.getElementById('canvas');\ncanvas.width = window.innerWidth;\ncanvas.height = window.innerHeight;\n\nconst ctx = canvas.getContext('2d');\n\nclass Object {\n    constructor(ctx, x, y, radius = 20, color = 'blue') {\n        this.x = x;\n        this.y = y;\n        this.radius = radius;\n        this.color = color;\n        this.ctx = ctx;\n    }\n\n    draw() {\n        this.ctx.beginPath();\n        this.ctx.arc(this.x, this.y, this.radius, 0, 360, false);\n        this.ctx.fillStyle = this.color;\n        this.ctx.fill();\n        this.ctx.closePath();\n    }\n\n    move(dx, dy) {\n        this.clear();\n\n        this.x += dx;\n        this.y += dy;\n\n        this.draw();\n    }\n\n    clear() {\n        this.ctx.beginPath();\n        this.ctx.arc(this.x, this.y, this.radius + 1, 0, 360, false);\n        this.ctx.fillStyle = '#1956a8';\n        this.ctx.fill();\n        this.ctx.closePath();\n    }\n}\n\nclass Player extends Object {\n    constructor(ctx, x, y, speed = 3, radius = 20, color = 'red') {\n        super(ctx, x, y, radius, color);\n        this.speed = speed;\n    }\n}\n\nclass Bot extends Object {\n    constructor(ctx, x, y, direction, timeout = 0, speed = 4, radius = 30, color = 'black') {\n        super(ctx, x, y, radius, color);\n        this.direction = direction;\n        this.speed = speed;\n        this.speedDirections = {\n            right: [this.speed, 0],\n            left: [-this.speed, 0],\n            up: [0, -this.speed],\n            down: [0, this.speed]\n        };\n        this.isActive = true;\n        this.timeout = timeout;\n    }\n\n    movement() {\n        this.move(this.speedDirections[this.direction][0], this.speedDirections[this.direction][1]);\n    }\n}\nclass Arena {\n    constructor(ctx) {\n        this.x = 0;\n        this.y = 0;\n        this.width = window.innerWidth;\n        this.height = window.innerHeight;\n        this.fieldX = 400;\n        this.fieldY = 200;\n        this.fieldWidth = this.width - 800;\n        this.fieldHeight = this.height - 400;\n        this.ctx = ctx;\n\n    }\n\n    draw(ctx = this.ctx) {\n        ctx.beginPath();\n        ctx.fillStyle = '#000a57';\n        ctx.fillRect(this.x, this.y, this.width, this.height);\n        ctx.fillStyle = '#1956a8';\n        ctx.fillRect(this.fieldX, this.fieldY, this.fieldWidth, this.fieldHeight);\n        ctx.closePath();\n    }\n}\n\nclass Round {\n    constructor(arena) {\n        this.bots = [];\n        this.wave = 1;\n        this.arena = arena;\n    }\n\n    checkBots() {\n        let counter = 0;\n        this.bots.forEach((bot) => {\n            if (!checkBorderCollision(bot.x, bot.y, bot.radius + 2)) {\n                counter += 1;\n                bot.clear();\n                bot.isActive = false;\n            }\n        });\n\n        if (counter === this.bots.length) {\n            this.bots = [];\n        }\n    }\n\n    createBot(bot) {\n        setTimeout(() => {\n            this.bots.push(bot);\n            bot.draw();}, bot.timeout);\n    }\n\n    firstWave() {\n        let bot = new Bot(ctx, this.arena.fieldX + 50, this.arena.fieldY + 400, 'right', 500);\n        this.createBot(bot);\n\n        bot = new Bot(ctx, this.arena.fieldX + 50, this.arena.fieldY + 500, 'right', 33);\n        this.createBot(bot);\n\n        bot = new Bot(ctx, this.arena.fieldX + 400, this.arena.fieldY + 50, 'down');\n        this.createBot(bot);\n\n        bot = new Bot(ctx, this.arena.fieldX + this.arena.fieldWidth - 100, this.arena.fieldY + 400, 'left', 800);\n        this.createBot(bot);\n\n        bot = new Bot(ctx, this.arena.fieldX + 500, this.arena.fieldY + this.arena.fieldHeight - 100, 'up', 100);\n        this.createBot(bot);\n    }\n\n    secondWave() {\n        let bot = new Bot(ctx, this.arena.fieldX + 50, this.arena.fieldY + 400, 'right', 500);\n        this.createBot(bot);\n\n        bot = new Bot(ctx, this.arena.fieldX + 50, this.arena.fieldY + 200, 'right', 33);\n        this.createBot(bot);\n\n        bot = new Bot(ctx, this.arena.fieldX + 400, this.arena.fieldY + 50, 'down');\n        this.createBot(bot);\n\n        bot = new Bot(ctx, this.arena.fieldX + this.arena.fieldWidth - 100, this.arena.fieldY + 400, 'left', 800);\n        this.createBot(bot);\n\n        bot = new Bot(ctx, this.arena.fieldX + 500, this.arena.fieldY + this.arena.fieldHeight - 100, 'up', 100);\n        this.createBot(bot);\n\n        bot = new Bot(ctx, this.arena.fieldX + 50, this.arena.fieldY + 500, 'right', 1000);\n        this.createBot(bot);\n\n        bot = new Bot(ctx, this.arena.fieldX + this.arena.fieldWidth - 100, this.arena.fieldY + 500, 'left', 303);\n        this.createBot(bot);\n\n        bot = new Bot(ctx, this.arena.fieldX + 400, this.arena.fieldY + 150, 'down', 460);\n        this.createBot(bot);\n\n        bot = new Bot(ctx, this.arena.fieldX + this.arena.fieldWidth - 100, this.arena.fieldY + 100, 'left', 300);\n        this.createBot(bot);\n\n        bot = new Bot(ctx, this.arena.fieldX + 500, this.arena.fieldY + this.arena.fieldHeight - 100, 'up', 150);\n        this.createBot(bot);\n\n        bot = new Bot(ctx, this.arena.fieldX + 300, this.arena.fieldY + this.arena.fieldHeight - 100, 'up', 200);\n        this.createBot(bot);\n\n    }\n\n    thirdWave() {\n        let bot = new Bot(ctx, this.arena.fieldX + 50, this.arena.fieldY + 100, 'right', 100);\n        this.createBot(bot);\n\n        bot = new Bot(ctx, this.arena.fieldX + 50, this.arena.fieldY + 400, 'right', 250);\n        this.createBot(bot);\n\n        bot = new Bot(ctx, this.arena.fieldX + 200, this.arena.fieldY + 50, 'down', 421);\n        this.createBot(bot);\n\n        bot = new Bot(ctx, this.arena.fieldX + this.arena.fieldWidth - 100, this.arena.fieldY + 200, 'left', 330);\n        this.createBot(bot);\n\n        bot = new Bot(ctx, this.arena.fieldX + 700, this.arena.fieldY + this.arena.fieldHeight - 100, 'up');\n        this.createBot(bot);\n\n        bot = new Bot(ctx, this.arena.fieldX + 50, this.arena.fieldY + 500, 'right', 579);\n        this.createBot(bot);\n\n        bot = new Bot(ctx, this.arena.fieldX + this.arena.fieldWidth - 100, this.arena.fieldY + 70, 'left', 33);\n        this.createBot(bot);\n\n        bot = new Bot(ctx, this.arena.fieldX + 400, this.arena.fieldY + 150, 'down', 134);\n        this.createBot(bot);\n\n        bot = new Bot(ctx, this.arena.fieldX + this.arena.fieldWidth - 100, this.arena.fieldY + 350, 'left', 100);\n        this.createBot(bot);\n\n        bot = new Bot(ctx, this.arena.fieldX + 100, this.arena.fieldY + this.arena.fieldHeight - 100, 'up', 150);\n        this.createBot(bot);\n\n        bot = new Bot(ctx, this.arena.fieldX + 350, this.arena.fieldY + this.arena.fieldHeight - 100, 'up', 400);\n        this.createBot(bot);\n    }\n\n    fourthWave() {\n        let bot = new Bot(ctx, this.arena.fieldX + 50, this.arena.fieldY + 100, 'right', 100);\n        this.createBot(bot);\n\n        bot = new Bot(ctx, this.arena.fieldX + 100, this.arena.fieldY + 50, 'down');\n        this.createBot(bot);\n\n        bot = new Bot(ctx, this.arena.fieldX + this.arena.fieldWidth - 100, this.arena.fieldY + 200, 'left', 280);\n        this.createBot(bot);\n\n        bot = new Bot(ctx, this.arena.fieldX + 300, this.arena.fieldY + this.arena.fieldHeight - 100, 'up');\n        this.createBot(bot);\n\n        bot = new Bot(ctx, this.arena.fieldX + 50, this.arena.fieldY + 200, 'right', 341);\n        this.createBot(bot);\n\n        bot = new Bot(ctx, this.arena.fieldX + 50, this.arena.fieldY + 400, 'right', 500);\n        this.createBot(bot);\n\n        bot = new Bot(ctx, this.arena.fieldX + this.arena.fieldWidth - 100, this.arena.fieldY + 567, 'left', 290);\n        this.createBot(bot);\n\n        bot = new Bot(ctx, this.arena.fieldX + 400, this.arena.fieldY + 150, 'down', 134);\n        this.createBot(bot);\n\n        bot = new Bot(ctx, this.arena.fieldX + 400, this.arena.fieldY + 350, 'down', 400);\n        this.createBot(bot);\n\n        bot = new Bot(ctx, this.arena.fieldX + this.arena.fieldWidth - 100, this.arena.fieldY + 450, 'left', 100);\n        this.createBot(bot);\n\n        bot = new Bot(ctx, this.arena.fieldX + 100, this.arena.fieldY + this.arena.fieldHeight - 100, 'up', 450);\n        this.createBot(bot);\n\n        bot = new Bot(ctx, this.arena.fieldX + 350, this.arena.fieldY + this.arena.fieldHeight - 100, 'up', 100);\n        this.createBot(bot);\n    }\n\n    initWave() {\n        switch (this.wave) {\n            case 1:\n                this.firstWave();\n                break;\n            case 2:\n                this.secondWave();\n                break;\n            case 3:\n                this.thirdWave();\n                break;\n            case 4:\n                this.fourthWave();\n                break;\n            default:\n                return false;\n        }\n        this.wave += 1;\n        return true;\n    }\n}\n\n\n\nconst arena = new Arena(ctx);\narena.draw(ctx);\n\nconst player = new Player(ctx, arena.fieldX + arena.fieldWidth / 2, arena.fieldY + arena.fieldHeight / 2);\nplayer.draw(ctx);\n\nconst keyMap = {};\n\nonkeydown = onkeyup = function(e){\n    keyMap[e.keyCode] = (e.type === 'keypress' || e.type === 'keydown');\n};\n\nconst movementControl = (player) => {\n\n    let x = 0;\n    let y = 0;\n    if (keyMap[68]) {\n        x += player.speed;\n    }\n    if (keyMap[65]) {\n        x -= player.speed;\n    }\n    if (keyMap[83]) {\n        y += player.speed;\n    }\n    if (keyMap[87]) {\n        y -= player.speed;\n    }\n\n    if (!checkBorderCollision(player.x + x, player.y + y, player.radius)) {\n        player.move(-x, -y);\n\n        return true;\n    }\n\n    player.move(x, y);\n    return checkBotCollision(player);\n};\n\nwindow.addEventListener('keypress', (event) => {\n    onkeydown(event);\n    // movementControl(event, player);\n});\n\nwindow.addEventListener('keyup', (event) => {\n    onkeyup(event);\n    // movementControl(event, player);\n});\n\nconst round = new Round(arena);\n\n\n\n\nconst checkBorderCollision = (x, y, radius) => {\n    if (x - radius <= arena.fieldX || x + radius >= arena.fieldX + arena.fieldWidth) {\n        return false;\n    }\n    if (y - radius <= arena.fieldY || y + radius >= arena.fieldY + arena.fieldHeight) {\n        return false;\n    }\n    return true;\n};\n\nconst checkBotCollision = (player) => {\n    let result = true;\n    round.bots.forEach((item) => {\n        const dx = item.x - player.x;\n        const dy = item.y - player.y;\n        const dist = Math.sqrt(dx * dx + dy * dy);\n        if ( dist < (item.radius + player.radius) ) {\n            result = false;\n        }\n    });\n\n    return result;\n};\n\nsetTimeout(() => {\n    document.getElementById('header').style.display = 'none';\n    const gameLoop = setInterval(() => {\n        if (!movementControl(player)) {\n            clearInterval(gameLoop);\n            let anotherGame = confirm('You died!!! Do you want to play again?');\n            anotherGame ? window.location.reload() : window.location.href = '../main-page/main-page.html';\n        }\n\n        round.bots.forEach((bot) => {\n            if (bot.isActive) {\n                bot.movement();\n            }\n\n        });\n        round.checkBots();\n        if (round.bots.length === 0) {\n            if (!round.initWave()) {\n                let anotherGame = confirm('You won!!! Do you want to play again?');\n                clearInterval(gameLoop);\n                anotherGame ? window.location.reload() : window.location.href = '../main-page/main-page.html';\n            }\n        }\n    }, 1000/74);\n}, 1000);\n"],"sourceRoot":""}