var game=function(e){var t={};function i(a){if(t[a])return t[a].exports;var s=t[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";const a=document.getElementById("canvas");a.width=window.innerWidth,a.height=window.innerHeight;const s=a.getContext("2d");class h{constructor(e,t,i,a=20,s="blue"){this.x=t,this.y=i,this.radius=a,this.color=s,this.ctx=e}draw(){this.ctx.beginPath(),this.ctx.arc(this.x,this.y,this.radius,0,360,!1),this.ctx.fillStyle=this.color,this.ctx.fill(),this.ctx.closePath()}move(e,t){this.clear(),this.x+=e,this.y+=t,this.draw()}clear(){this.ctx.beginPath(),this.ctx.arc(this.x,this.y,this.radius+1,0,360,!1),this.ctx.fillStyle="#1956a8",this.ctx.fill(),this.ctx.closePath()}}class n extends h{constructor(e,t,i,a,s=0,h=4,n=30,r="black"){super(e,t,i,n,r),this.direction=a,this.speed=h,this.speedDirections={right:[this.speed,0],left:[-this.speed,0],up:[0,-this.speed],down:[0,this.speed]},this.isActive=!0,this.timeout=s}movement(){this.move(this.speedDirections[this.direction][0],this.speedDirections[this.direction][1])}}const r=new class{constructor(e){this.x=0,this.y=0,this.width=window.innerWidth,this.height=window.innerHeight,this.fieldX=400,this.fieldY=200,this.fieldWidth=this.width-800,this.fieldHeight=this.height-400,this.ctx=e}draw(e=this.ctx){e.beginPath(),e.fillStyle="#000a57",e.fillRect(this.x,this.y,this.width,this.height),e.fillStyle="#1956a8",e.fillRect(this.fieldX,this.fieldY,this.fieldWidth,this.fieldHeight),e.closePath()}}(s);r.draw(s);const d=new class extends h{constructor(e,t,i,a=3,s=20,h="red"){super(e,t,i,s,h),this.speed=a}}(s,r.fieldX+r.fieldWidth/2,r.fieldY+r.fieldHeight/2);d.draw(s);const l={};onkeydown=onkeyup=function(e){l[e.keyCode]="keypress"===e.type||"keydown"===e.type};window.addEventListener("keypress",e=>{onkeydown(e)}),window.addEventListener("keyup",e=>{onkeyup(e)});const o=new class{constructor(e){this.bots=[],this.wave=1,this.arena=e}checkBots(){let e=0;this.bots.forEach(t=>{f(t.x,t.y,t.radius+2)||(e+=1,t.clear(),t.isActive=!1)}),e===this.bots.length&&(this.bots=[])}createBot(e){setTimeout(()=>{this.bots.push(e),e.draw()},e.timeout)}firstWave(){let e=new n(s,this.arena.fieldX+50,this.arena.fieldY+400,"right",500);this.createBot(e),e=new n(s,this.arena.fieldX+50,this.arena.fieldY+500,"right",33),this.createBot(e),e=new n(s,this.arena.fieldX+400,this.arena.fieldY+50,"down"),this.createBot(e),e=new n(s,this.arena.fieldX+this.arena.fieldWidth-100,this.arena.fieldY+400,"left",800),this.createBot(e),e=new n(s,this.arena.fieldX+500,this.arena.fieldY+this.arena.fieldHeight-100,"up",100),this.createBot(e)}secondWave(){let e=new n(s,this.arena.fieldX+50,this.arena.fieldY+400,"right",500);this.createBot(e),e=new n(s,this.arena.fieldX+50,this.arena.fieldY+200,"right",33),this.createBot(e),e=new n(s,this.arena.fieldX+400,this.arena.fieldY+50,"down"),this.createBot(e),e=new n(s,this.arena.fieldX+this.arena.fieldWidth-100,this.arena.fieldY+400,"left",800),this.createBot(e),e=new n(s,this.arena.fieldX+500,this.arena.fieldY+this.arena.fieldHeight-100,"up",100),this.createBot(e),e=new n(s,this.arena.fieldX+50,this.arena.fieldY+500,"right",1e3),this.createBot(e),e=new n(s,this.arena.fieldX+this.arena.fieldWidth-100,this.arena.fieldY+500,"left",303),this.createBot(e),e=new n(s,this.arena.fieldX+400,this.arena.fieldY+150,"down",460),this.createBot(e),e=new n(s,this.arena.fieldX+this.arena.fieldWidth-100,this.arena.fieldY+100,"left",300),this.createBot(e),e=new n(s,this.arena.fieldX+500,this.arena.fieldY+this.arena.fieldHeight-100,"up",150),this.createBot(e),e=new n(s,this.arena.fieldX+300,this.arena.fieldY+this.arena.fieldHeight-100,"up",200),this.createBot(e)}thirdWave(){let e=new n(s,this.arena.fieldX+50,this.arena.fieldY+100,"right",100);this.createBot(e),e=new n(s,this.arena.fieldX+50,this.arena.fieldY+400,"right",250),this.createBot(e),e=new n(s,this.arena.fieldX+200,this.arena.fieldY+50,"down",421),this.createBot(e),e=new n(s,this.arena.fieldX+this.arena.fieldWidth-100,this.arena.fieldY+200,"left",330),this.createBot(e),e=new n(s,this.arena.fieldX+700,this.arena.fieldY+this.arena.fieldHeight-100,"up"),this.createBot(e),e=new n(s,this.arena.fieldX+50,this.arena.fieldY+500,"right",579),this.createBot(e),e=new n(s,this.arena.fieldX+this.arena.fieldWidth-100,this.arena.fieldY+70,"left",33),this.createBot(e),e=new n(s,this.arena.fieldX+400,this.arena.fieldY+150,"down",134),this.createBot(e),e=new n(s,this.arena.fieldX+this.arena.fieldWidth-100,this.arena.fieldY+350,"left",100),this.createBot(e),e=new n(s,this.arena.fieldX+100,this.arena.fieldY+this.arena.fieldHeight-100,"up",150),this.createBot(e),e=new n(s,this.arena.fieldX+350,this.arena.fieldY+this.arena.fieldHeight-100,"up",400),this.createBot(e)}fourthWave(){let e=new n(s,this.arena.fieldX+50,this.arena.fieldY+100,"right",100);this.createBot(e),e=new n(s,this.arena.fieldX+100,this.arena.fieldY+50,"down"),this.createBot(e),e=new n(s,this.arena.fieldX+this.arena.fieldWidth-100,this.arena.fieldY+200,"left",280),this.createBot(e),e=new n(s,this.arena.fieldX+300,this.arena.fieldY+this.arena.fieldHeight-100,"up"),this.createBot(e),e=new n(s,this.arena.fieldX+50,this.arena.fieldY+200,"right",341),this.createBot(e),e=new n(s,this.arena.fieldX+50,this.arena.fieldY+400,"right",500),this.createBot(e),e=new n(s,this.arena.fieldX+this.arena.fieldWidth-100,this.arena.fieldY+567,"left",290),this.createBot(e),e=new n(s,this.arena.fieldX+400,this.arena.fieldY+150,"down",134),this.createBot(e),e=new n(s,this.arena.fieldX+400,this.arena.fieldY+350,"down",400),this.createBot(e),e=new n(s,this.arena.fieldX+this.arena.fieldWidth-100,this.arena.fieldY+450,"left",100),this.createBot(e),e=new n(s,this.arena.fieldX+100,this.arena.fieldY+this.arena.fieldHeight-100,"up",450),this.createBot(e),e=new n(s,this.arena.fieldX+350,this.arena.fieldY+this.arena.fieldHeight-100,"up",100),this.createBot(e)}initWave(){switch(this.wave){case 1:this.firstWave();break;case 2:this.secondWave();break;case 3:this.thirdWave();break;case 4:this.fourthWave();break;default:return!1}return this.wave+=1,!0}}(r),f=(e,t,i)=>!(e-i<=r.fieldX||e+i>=r.fieldX+r.fieldWidth)&&!(t-i<=r.fieldY||t+i>=r.fieldY+r.fieldHeight),c=e=>{let t=!0;return o.bots.forEach(i=>{const a=i.x-e.x,s=i.y-e.y;Math.sqrt(a*a+s*s)<i.radius+e.radius&&(t=!1)}),t};setTimeout(()=>{document.getElementById("header").style.display="none";const e=setInterval(()=>{if(!(e=>{let t=0,i=0;return l[68]&&(t+=e.speed),l[65]&&(t-=e.speed),l[83]&&(i+=e.speed),l[87]&&(i-=e.speed),f(e.x+t,e.y+i,e.radius)?(e.move(t,i),c(e)):(e.move(-t,-i),!0)})(d)){clearInterval(e),confirm("You died!!! Do you want to play again?")?window.location.reload():window.location.href="../main-page/main-page.html"}if(o.bots.forEach(e=>{e.isActive&&e.movement()}),o.checkBots(),0===o.bots.length&&!o.initWave()){let t=confirm("You won!!! Do you want to play again?");clearInterval(e),t?window.location.reload():window.location.href="../main-page/main-page.html"}},1e3/74)},1e3)}]);
//# sourceMappingURL=game-main.js.map